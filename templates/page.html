{% extends "default.html" %}

{% block main %}
<div class="container" style="margin-top: 2rem;">
    {% if page.toc %}
    <div class="post-with-toc">
        <aside>
            {% include "components/toc.html" %}
        </aside>
        <article class="glass-panel" itemscope itemtype="http://schema.org/BlogPosting">
    {% else %}
        <article class="glass-panel" itemscope itemtype="http://schema.org/BlogPosting" style="max-width: 900px; margin: 0 auto;">
    {% endif %}

        <header class="header" style="text-align: left; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 2rem; margin-bottom: 2rem;">
            <h1 class="glitch-text" itemprop="name headline" data-text="{{ page.title }}">{{ page.title }}</h1>
            
            <div class="post-meta" style="opacity: 0.7; font-size: 0.9rem; display: flex; gap: 1rem; align-items: center;">
                <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
                {% if page.taxonomies.tags %}
                    <div class="post-tags" style="display: flex; gap: 0.5rem;">
                        {% for tag in page.taxonomies.tags %}
                            <a href="{{ get_taxonomy_url(kind="tags", name=tag) | safe }}" style="color: var(--koro-yellow);">#{{ tag }}</a>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </header>

        {% if page.extra.featured_image %}
        <div class="featured-image float-anim" style="margin-bottom: 3rem; text-align: center;">
            <img src="{{ get_url(path=page.path ~ page.extra.featured_image) }}" alt="{{ page.title }}" style="max-width: 100%; height: auto; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.4);">
        </div>
        {% endif %}

        <div class="content" itemprop="articleBody">
            {{ page.content | safe }}
        </div>
        
        <footer style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1); opacity: 0.6; font-size: 0.85rem;">
            <p>Published on {{ page.date | date(format="%B %d, %Y") }}</p>
            <p><a href="/blog" style="color: var(--koro-yellow);">‚Üê Back to Blog</a></p>
        </footer>
    </article>

    {% if page.toc %}
    </div>
    {% endif %}
</div>
{% endblock main %}